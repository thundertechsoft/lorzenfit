<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Product | Solo Were Admin</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="admin-body">
    <div class="admin-container">
        <div class="admin-sidebar">
            <div class="admin-logo">
                <img src="assets/logo.png" alt="Logo" height="40">
                <h3>Solo Were Admin</h3>
            </div>
            <nav class="admin-nav">
                <a href="admin.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                <a href="admin-products.html"><i class="fas fa-tshirt"></i> Products</a>
                <a href="admin-add.html" class="active"><i class="fas fa-plus-circle"></i> Add Product</a>
                <a href="index.html"><i class="fas fa-store"></i> View Store</a>
            </nav>
        </div>
        
        <div class="admin-main">
            <div class="admin-header">
                <h2>Add New Product</h2>
                <button id="logoutBtn" class="btn-logout">Logout</button>
            </div>
            
            <div class="admin-content">
                <form id="addProductForm" class="product-form">
                    <div class="form-group">
                        <label>Product Name *</label>
                        <input type="text" id="productName" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Price (Rs.) *</label>
                        <input type="number" id="productPrice" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="productDescription" rows="4"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Category</label>
                        <select id="productCategory">
                            <option value="casual">Casual Shirts</option>
                            <option value="formal">Formal Shirts</option>
                            <option value="party">Party Wear</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Image URL</label>
                        <input type="text" id="productImage" placeholder="https://example.com/image.jpg">
                        <small>Or upload to Firebase Storage and paste URL here</small>
                    </div>
                    
                    <button type="submit" class="btn">Add Product</button>
                </form>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js"></script>
    <script src="firebase-config.js"></script>
    <script src="admin-script.js"></script>
    <script>
    document.getElementById('addProductForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const product = {
            name: document.getElementById('productName').value,
            price: parseInt(document.getElementById('productPrice').value),
            description: document.getElementById('productDescription').value,
            category: document.getElementById('productCategory').value,
            image: document.getElementById('productImage').value || 'assets/default-shirt.jpg',
            createdAt: new Date().toISOString()
        };
        
        try {
            await db.collection('products').add(product);
            alert('Product added successfully!');
            document.getElementById('addProductForm').reset();
        } catch (error) {
            alert('Error adding product: ' + error.message);
        }
    });
    </script>
</body>
</html>
